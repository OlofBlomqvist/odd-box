import{j as l,m as Ae,R as c,r as d,n as ke}from"./index-B6VXrZlL.js";const X=({withSaveButton:e,originalValue:t,onSave:n,...o})=>{let r={width:"100%",fontSize:".8rem",minWidth:"250px",border:0,outline:0,padding:"0px 10px",borderRadius:e?0:"4px"};e&&(r.borderTopRightRadius=0,r.borderBottomRightRadius=0);const i=e&&t!==o.value,a=["input-save-button"];return i&&a.push("show"),l.jsxs("div",{style:{display:"grid",transition:"all .2s",width:"100%",gridTemplateColumns:i?"1fr 30px":"1fr 0px",height:"32px",borderRadius:e?"3px":0,overflow:"hidden"},children:[l.jsx("input",{...o,className:"text-black",style:o.type!=="checkbox"?r:{}}),o.type!=="checkbox"&&e&&l.jsx("button",{tabIndex:-1,onClick:()=>n==null?void 0:n(o.value),className:a.join(" "),children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#309030",width:"12",height:"12",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M20.285 2l-11.285 11.567-5.286-5.011-3.714 3.716 9 8.728 15-15.285z"})})})]})},M=({children:e,dangerButton:t,secondary:n,...o})=>{let r=["styled-button"];return t&&r.push("danger"),n&&r.push("secondary"),o.disabled&&r.push("disabled"),o.className&&(r=[o.className]),l.jsx("button",{...o,className:r.join(" "),children:e})},Te=()=>l.jsx("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",children:l.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 7.757v8.486M7.757 12h8.486M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})});var te={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(i=r(i,o(s)))}return i}function o(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var a="";for(var s in i)t.call(i,s)&&i[s]&&(a=r(a,s));return a}function r(i,a){return a?i?i+" "+a:i+a:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(te);var Oe=te.exports;const S=Ae(Oe);function Ne(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}else return Array.from(e)}var L=!1;if(typeof window<"u"){var ee={get passive(){L=!0}};window.addEventListener("testPassive",null,ee),window.removeEventListener("testPassive",null,ee)}var ne=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),p=[],T=!1,oe=-1,I=void 0,j=void 0,re=function(t){return p.some(function(n){return!!(n.options.allowTouchMove&&n.options.allowTouchMove(t))})},O=function(t){var n=t||window.event;return re(n.target)||n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)},Re=function(t){if(j===void 0){var n=!!t&&t.reserveScrollBarGap===!0,o=window.innerWidth-document.documentElement.clientWidth;n&&o>0&&(j=document.body.style.paddingRight,document.body.style.paddingRight=o+"px")}I===void 0&&(I=document.body.style.overflow,document.body.style.overflow="hidden")},De=function(){j!==void 0&&(document.body.style.paddingRight=j,j=void 0),I!==void 0&&(document.body.style.overflow=I,I=void 0)},Be=function(t){return t?t.scrollHeight-t.scrollTop<=t.clientHeight:!1},Me=function(t,n){var o=t.targetTouches[0].clientY-oe;return re(t.target)?!1:n&&n.scrollTop===0&&o>0||Be(n)&&o<0?O(t):(t.stopPropagation(),!0)},Pe=function(t,n){if(!t){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!p.some(function(r){return r.targetElement===t})){var o={targetElement:t,options:n||{}};p=[].concat(Ne(p),[o]),ne?(t.ontouchstart=function(r){r.targetTouches.length===1&&(oe=r.targetTouches[0].clientY)},t.ontouchmove=function(r){r.targetTouches.length===1&&Me(r,t)},T||(document.addEventListener("touchmove",O,L?{passive:!1}:void 0),T=!0)):Re(n)}},Le=function(t){if(!t){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}p=p.filter(function(n){return n.targetElement!==t}),ne?(t.ontouchstart=null,t.ontouchmove=null,T&&p.length===0&&(document.removeEventListener("touchmove",O,L?{passive:!1}:void 0),T=!1)):p.length||De()};function _e(e=null){let[t,n]=c.useState(e);const{current:o}=c.useRef({current:t});return Object.defineProperty(o,"current",{get:()=>t,set:r=>{Object.is(t,r)||(t=r,n(r))}}),o}function Fe(e,t={isStateful:!0}){const n=_e(null),o=d.useRef(null),r=t.isStateful?n:o;return c.useEffect(()=>{!e||(typeof e=="function"?e(r.current):e.current=r.current)}),r}function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},N.apply(this,arguments)}var ze=function(t){var n=t.classes,o=t.classNames,r=t.styles,i=t.id,a=t.closeIcon,s=t.onClick;return c.createElement("button",{id:i,className:S(n.closeButton,o==null?void 0:o.closeButton),style:r==null?void 0:r.closeButton,onClick:s,"data-testid":"close-button"},a||c.createElement("svg",{className:o==null?void 0:o.closeIcon,style:r==null?void 0:r.closeIcon,width:28,height:28,viewBox:"0 0 36 36","data-testid":"close-icon"},c.createElement("path",{d:"M28.5 9.62L26.38 7.5 18 15.88 9.62 7.5 7.5 9.62 15.88 18 7.5 26.38l2.12 2.12L18 20.12l8.38 8.38 2.12-2.12L20.12 18z"})))},k=typeof window<"u",ae=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'];function $e(e){return e.offsetParent===null||getComputedStyle(e).visibility==="hidden"}function He(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}function qe(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!0;var t=e.form||e.ownerDocument,n=t.querySelectorAll('input[type="radio"][name="'+e.name+'"]'),o=He(n,e.form);return o===e||o===void 0&&n[0]===e}function ie(e){for(var t=document.activeElement,n=e.querySelectorAll(ae.join(",")),o=[],r=0;r<n.length;r++){var i=n[r];(t===i||!i.disabled&&Ue(i)>-1&&!$e(i)&&qe(i))&&o.push(i)}return o}function We(e,t){if(!(!e||e.key!=="Tab")){if(!t||!t.contains)return process,!1;if(!t.contains(e.target))return!1;var n=ie(t),o=n[0],r=n[n.length-1];return e.shiftKey&&e.target===o?(r.focus(),e.preventDefault(),!0):!e.shiftKey&&e.target===r?(o.focus(),e.preventDefault(),!0):!1}}function Ue(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?Ve(e)?0:e.tabIndex:t}function Ve(e){return e.getAttribute("contentEditable")}var Ye=function(t){var n=t.container,o=t.initialFocusRef,r=d.useRef();return d.useEffect(function(){var i=function(g){n!=null&&n.current&&We(g,n.current)};if(k&&document.addEventListener("keydown",i),k&&(n!=null&&n.current)){var a=function(){ae.findIndex(function(g){var w;return(w=document.activeElement)==null?void 0:w.matches(g)})!==-1&&(r.current=document.activeElement)};if(o)a(),requestAnimationFrame(function(){var f;(f=o.current)==null||f.focus()});else{var s=ie(n.current);s[0]&&(a(),s[0].focus())}}return function(){if(k){var f;document.removeEventListener("keydown",i),(f=r.current)==null||f.focus()}}},[n,o]),null},b=[],P={add:function(t){b.push(t)},remove:function(t){b=b.filter(function(n){return n!==t})},isTopModal:function(t){return!!b.length&&b[b.length-1]===t}};function Ke(e,t){d.useEffect(function(){return t&&P.add(e),function(){P.remove(e)}},[t,e])}var Ge=function(t,n,o,r,i){var a=d.useRef(null);d.useEffect(function(){return n&&t.current&&r&&(a.current=t.current,Pe(t.current,{reserveScrollBarGap:i})),function(){a.current&&(Le(a.current),a.current=null)}},[n,o,t,r,i])},v={root:"react-responsive-modal-root",overlay:"react-responsive-modal-overlay",overlayAnimationIn:"react-responsive-modal-overlay-in",overlayAnimationOut:"react-responsive-modal-overlay-out",modalContainer:"react-responsive-modal-container",modalContainerCenter:"react-responsive-modal-containerCenter",modal:"react-responsive-modal-modal",modalAnimationIn:"react-responsive-modal-modal-in",modalAnimationOut:"react-responsive-modal-modal-out",closeButton:"react-responsive-modal-closeButton"},Ze=c.forwardRef(function(e,t){var n,o,r,i,a=e.open,s=e.center,f=e.blockScroll,g=f===void 0?!0:f,w=e.closeOnEsc,le=w===void 0?!0:w,_=e.closeOnOverlayClick,se=_===void 0?!0:_,R=e.container,F=e.showCloseIcon,ue=F===void 0?!0:F,ce=e.closeIconId,de=e.closeIcon,z=e.focusTrapped,fe=z===void 0?!0:z,$=e.initialFocusRef,ve=$===void 0?void 0:$,H=e.animationDuration,q=H===void 0?300:H,u=e.classNames,m=e.styles,W=e.role,me=W===void 0?"dialog":W,he=e.ariaDescribedby,pe=e.ariaLabelledby,ye=e.containerId,be=e.modalId,D=e.onClose,U=e.onEscKeyDown,V=e.onOverlayClick,Y=e.onAnimationEnd,ge=e.children,we=e.reserveScrollBarGap,K=Fe(t),E=d.useRef(null),y=d.useRef(null),h=d.useRef(null);h.current===null&&k&&(h.current=document.createElement("div"));var G=d.useState(!1),x=G[0],Z=G[1];Ke(E,a),Ge(E,a,x,g,we);var xe=function(){h.current&&!R&&!document.body.contains(h.current)&&document.body.appendChild(h.current),document.addEventListener("keydown",J)},Ce=function(){h.current&&!R&&document.body.contains(h.current)&&document.body.removeChild(h.current),document.removeEventListener("keydown",J)},J=function(A){A.keyCode!==27||!P.isTopModal(E)||(U==null||U(A),le&&D())};d.useEffect(function(){return function(){x&&Ce()}},[x]),d.useEffect(function(){a&&!x&&(Z(!0),xe())},[a]);var Se=function(A){if(y.current===null&&(y.current=!0),!y.current){y.current=null;return}V==null||V(A),se&&D(),y.current=null},B=function(){y.current=!1},Ie=function(){a||Z(!1),Y==null||Y()},Q=R||h.current,je=a?(n=u==null?void 0:u.overlayAnimationIn)!=null?n:v.overlayAnimationIn:(o=u==null?void 0:u.overlayAnimationOut)!=null?o:v.overlayAnimationOut,Ee=a?(r=u==null?void 0:u.modalAnimationIn)!=null?r:v.modalAnimationIn:(i=u==null?void 0:u.modalAnimationOut)!=null?i:v.modalAnimationOut;return x&&Q?ke.createPortal(c.createElement("div",{className:S(v.root,u==null?void 0:u.root),style:m==null?void 0:m.root,"data-testid":"root"},c.createElement("div",{className:S(v.overlay,u==null?void 0:u.overlay),"data-testid":"overlay","aria-hidden":!0,style:N({animation:je+" "+q+"ms"},m==null?void 0:m.overlay)}),c.createElement("div",{ref:E,id:ye,className:S(v.modalContainer,s&&v.modalContainerCenter,u==null?void 0:u.modalContainer),style:m==null?void 0:m.modalContainer,"data-testid":"modal-container",onClick:Se},c.createElement("div",{ref:K,className:S(v.modal,u==null?void 0:u.modal),style:N({animation:Ee+" "+q+"ms"},m==null?void 0:m.modal),onMouseDown:B,onMouseUp:B,onClick:B,onAnimationEnd:Ie,id:be,role:me,"aria-modal":"true","aria-labelledby":pe,"aria-describedby":he,"data-testid":"modal",tabIndex:-1},fe&&c.createElement(Ye,{container:K,initialFocusRef:ve}),ge,ue&&c.createElement(ze,{classes:v,classNames:u,styles:m,closeIcon:de,onClick:D,id:ce})))),Q):null});const Je=({show:e,onClose:t,title:n,subtitle:o,children:r})=>l.jsx(Ze,{showCloseIcon:!1,blockScroll:!1,styles:{modal:{background:"transparent",backdropFilter:"blur(20px)",borderRadius:"5px",border:"1px solid #ffffff22"}},open:e,onClose:t,center:!0,children:l.jsxs("div",{children:[n&&l.jsx("h3",{children:n}),o&&l.jsx("p",{style:{fontSize:".9rem"},children:o}),r]})}),Xe=({keys:e,onNewKey:t,onRemoveKey:n})=>{const[o,r]=d.useState({show:!1,name:"",value:"",originalName:void 0}),i=()=>{r(a=>({show:!a.show,name:"",value:"",originalName:void 0}))};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{background:"var(--color3)",color:"black",marginTop:"10px",borderRadius:"5px",overflow:"hidden"},children:[e.map(a=>l.jsxs("div",{onClick:()=>{r({show:!0,name:a.key,value:a.value,originalName:a.key})},className:"env-var-item",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"5px"},children:[l.jsx("p",{style:{zIndex:1,fontSize:".8rem"},children:a.key}),l.jsx("p",{style:{zIndex:1,fontSize:".8rem"},children:a.value})]},a.key)),l.jsx("div",{onClick:i,className:"env-var-item",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"5px"},children:l.jsxs("div",{style:{zIndex:1,fontSize:".8rem",display:"flex",alignItems:"center",gap:"5px"},children:[l.jsx(Te,{}),"Add new variable"]})})]}),l.jsx(Je,{show:o.show,onClose:()=>r(a=>({...a,show:!1})),title:o.originalName?"Edit variable":"New variable",children:l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[l.jsxs("div",{children:[l.jsx("p",{style:{fontSize:".8rem"},children:"NAME"}),l.jsx(X,{type:"text",value:o.name,onChange:a=>r(s=>({...s,name:a.target.value}))})]}),l.jsxs("div",{children:[l.jsx("p",{style:{fontSize:".8rem"},children:"VALUE"}),l.jsx(X,{type:"text",value:o.value,onChange:a=>r(s=>({...s,value:a.target.value}))})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"10px",marginTop:"5px"},children:[o.originalName!==void 0&&l.jsx(M,{dangerButton:!0,onClick:()=>{n==null||n(o.originalName),r(a=>({...a,show:!1}))},children:"Delete"}),l.jsx(M,{secondary:!0,dangerButton:!0,onClick:()=>r(a=>({...a,show:!1})),children:"Cancel"}),l.jsx(M,{disabled:o.name===""||o.value==="",onClick:()=>{t==null||t({key:o.name,value:o.value},o.originalName),r(a=>({...a,show:!1}))},children:"Save"})]})]})})]})},et={h2_hint:"Hints are suggestions from the server to the client on how to prioritize resources or manage network behavior.",hostname:"Choose hostname for this site.",hostname_frontend:"Incoming name for binding to (frontend).",port:"Choose port for this site.",directory:"Path to working dir of this site.",binary:"Name of the binary file to run.",https:"Use HTTPS.",auto_start:"Set this to false if you do not want this site to start automatically.",capture_subdomains:"If you wish to use wildcard routing for any subdomain under the 'host_name'.",disable_tcp_tunnel:"This is mostly useful in case the target uses SNI sniffing/routing.",forward_subdomains:"If you wish to use the subdomain from the request in forwarded requests: test.example.com -> internal.site vs test.example.com -> test.internal.site.",log_format:"Choose format for logs.",default_log_format:"Default format for logs.",global_env_vars:"These are global environment variables - they will be set for all hosted processes.",log_level:"Choose your preferred log level.",args:"Arguments to the binary.",env_vars:"These will be set on launch.",root_dir:"Root directory for sites.",default_http_port:"Default port for new sites.",default_tls_port:"Default TLS port for new sites.",default_auto_start:"Default value for configured sites. False means a site will not start automatically with odd-box, but it will still be automatically started on incoming requests to that site.",proxy_ip:"IP for proxy to listen to , can be ipv4/6.",port_range_start:"Port range for automatic port assignment (the env var PORT will be set if you did not specify one manually for a process).",use_alpn:"Allows alpn negotiation for http/1.0 and h2 on tls connections.",site_type:"Choose the type of site you are adding.",exclude_from_start_all:"Will exempt the site from the start/stop all sites feature.",backends:"All backends for this site."};export{M as B,X as I,Xe as K,Je as O,Te as P,et as S};
