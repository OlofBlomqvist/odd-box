import{r,L as g,i as M,j as e,S as d,g as n,k as h,H as s,C as z,c as V,d as W,e as q,f as G,h as J}from"./index-C4yZE6Dy.js";import{S as o,I as l,B as Q}from"./button-DCs68cQO.js";import{E as U}from"./env_variables-C_Ck8DGs.js";import{A as X}from"./arguments-Oxm5pj2P.js";const Y=()=>{const[j,N]=r.useState("hostname"),[p,P]=r.useState(80),[S,F]=r.useState(""),[f,A]=r.useState(""),[C,B]=r.useState(!0),[w,D]=r.useState(!1),[y,O]=r.useState(!1),[_,K]=r.useState(!1),[T,E]=r.useState(!1),[i,c]=r.useState([]),[k,L]=r.useState(g.Dotnet),[u,H]=r.useState([]),[x,v]=r.useState([]),{updateSite:R}=M(),I=()=>{p&&R.mutateAsync({siteSettings:{host_name:j,port:p,dir:S,bin:f,https:C,auto_start:w,capture_subdomains:y,disable_tcp_tunnel_mode:_,forward_subdomains:T,hints:i,log_format:k,env_vars:u,args:x}})};return e.jsxs(e.Fragment,{children:[e.jsxs(d,{marginTop:"0px",noTopSeparator:!0,children:[e.jsx(n,{title:"Hostname",subTitle:o.hostname,children:e.jsx(l,{placeholder:"my-site.com",value:j,onChange:t=>N(t.target.value)})}),e.jsx(n,{title:"Port",subTitle:o.port,children:e.jsx(l,{value:p,onChange:t=>{isNaN(Number(t.target.value))||P(Number(t.target.value))}})})]}),e.jsxs(d,{noTopSeparator:!0,noBottomSeparator:!0,children:[e.jsx(n,{title:"Directory",subTitle:o.directory,children:e.jsx(l,{placeholder:"/var/www/my-site",value:S,onChange:t=>F(t.target.value)})}),e.jsx(n,{title:"Bin",subTitle:o.binary,children:e.jsx(l,{placeholder:"my-binary",value:f,onChange:t=>A(t.target.value)})})]}),e.jsx(d,{noTopSeparator:!0,noBottomSeparator:!0,children:e.jsx(n,{labelFor:"use_https",rowOnly:!0,title:"HTTPS",subTitle:o.https,children:e.jsx(l,{checked:C,onChange:t=>{B(t.target.checked)},name:"use_https",id:"use_https",type:"checkbox",style:{width:"20px",height:"20px"}})})}),e.jsx(d,{noTopSeparator:!0,children:e.jsx(n,{labelFor:"auto_start",rowOnly:!0,title:"Auto start",subTitle:o.auto_start,children:e.jsx(l,{id:"auto_start",checked:w,name:"auto_start",onChange:t=>{D(t.target.checked)},type:"checkbox",style:{width:"20px",height:"20px"}})})}),e.jsxs(d,{noTopSeparator:!0,children:[e.jsx(n,{labelFor:"capture_subdomains",rowOnly:!0,title:"Capture sub-domains",subTitle:o.capture_subdomains,children:e.jsx(l,{onChange:t=>{O(t.target.checked)},checked:y,type:"checkbox",name:"capture_subdomains",id:"capture_subdomains",style:{width:"20px",height:"20px"}})}),e.jsx(n,{rowOnly:!0,labelFor:"disable_tcp_tunnel",title:"Disable TCP tunnel mode",subTitle:o.disable_tcp_tunnel,children:e.jsx(l,{type:"checkbox",checked:_,onChange:t=>{K(t.target.checked)},id:"disable_tcp_tunnel",name:"disable_tcp_tunnel",style:{width:"20px",height:"20px"}})}),e.jsx(n,{rowOnly:!0,labelFor:"forward_subdomains",title:"Forward sub-domains",subTitle:o.forward_subdomains,children:e.jsx(l,{type:"checkbox",checked:T,onChange:t=>{E(t.target.checked)},id:"forward_subdomains",name:"forward_subdomains",style:{width:"20px",height:"20px"}})})]}),e.jsx(d,{noTopSeparator:!0,children:e.jsx(n,{title:"Log format",subTitle:o.log_format,children:e.jsxs("select",{className:"text-black rounded pl-3 pr-3",value:k,onChange:t=>{L(t.target.value)},name:"log_format",style:{height:"32px",width:"100%"},children:[e.jsx("option",{value:g.Standard,children:"Standard"}),e.jsx("option",{value:g.Dotnet,children:"Dotnet"})]})})}),e.jsx("div",{style:{marginTop:"20px"}}),e.jsx(n,{title:"Hints",subTitle:o.h2_hint}),e.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",justifyContent:"start",marginTop:"10px",marginBottom:"20px"},children:[e.jsx(h,{onClick:()=>{i.includes(s.H2)?c(t=>[...t.filter(a=>a!==s.H2)]):c(t=>[...t,s.H2])},checked:i.includes(s.H2),title:"H2"}),e.jsx(h,{onClick:()=>{i.includes(s.H2C)?c(t=>[...t.filter(a=>a!==s.H2C)]):c(t=>[...t,s.H2C])},checked:i.includes(s.H2C),title:"H2C"}),e.jsx(h,{onClick:()=>{i.includes(s.H2CPK)?c(t=>[...t.filter(a=>a!==s.H2CPK)]):c(t=>[...t,s.H2CPK])},checked:i.includes(s.H2CPK),title:"H2CPK"}),e.jsx(h,{onClick:()=>{i.includes(s.NOH2)?c(t=>[...t.filter(a=>a!==s.NOH2)]):c(t=>[...t,s.NOH2])},checked:i.includes(s.NOH2),title:"NOH2"})]}),e.jsx(d,{noBottomSeparator:!0,children:e.jsx(n,{vertical:!0,title:"Environment variables",subTitle:o.env_vars,children:e.jsx(U,{keys:u,onRemoveKey:t=>{H(u==null?void 0:u.filter(a=>a.key!==t))},onNewKey:(t,a)=>{H(m=>[...m.filter(b=>b.key!==a),t])}})})}),e.jsx(d,{noBottomSeparator:!0,noTopSeparator:!0,children:e.jsx(n,{vertical:!0,title:"Arguments",subTitle:o.args,children:e.jsx(X,{onAddArg:(t,a)=>{v(m=>[...m.filter(b=>b!==a),t])},onRemoveArg:t=>{v(x.filter(a=>a!==t))},defaultKeys:x})})}),e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"end",marginTop:"20px"},children:e.jsx(Q,{onClick:I,style:{width:"max-content",background:"var(--color7)"},children:"Create site"})})]})},Z=()=>e.jsx("main",{className:"grid flex-1 items-start gap-4 md:pb-8 md:gap-8 max-w-[900px]",children:e.jsxs(z,{children:[e.jsxs(V,{children:[e.jsx(W,{children:"New hosted process"}),e.jsxs(q,{children:["Creating a process that odd-box will manage.",e.jsx("br",{}),"This is a service that odd-box can start, stop, and restart."]})]}),e.jsx(G,{children:e.jsx(Y,{})})]})}),ae=J("/new-process")({component:Z});export{ae as Route};
